# ğŸ¯ Visual Flowchart: CÃ¡ch Sá»­ Dá»¥ng API Má»›i

## ğŸ“Š Flow Tá»•ng Quan

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER LOGIN/SIGNUP                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CHECK: Has user completed onboarding?                               â”‚
â”‚  GET /api/onboarding/status                                          â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ (No)                         â”‚ (Yes)              â”‚ (Admin)
     â–¼                              â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SHOW ONBOARDING     â”‚    â”‚ CHECK COLD-START     â”‚   â”‚ ADMIN        â”‚
â”‚ FORM                â”‚    â”‚ GET /api/recommend.. â”‚   â”‚ DASHBOARD    â”‚
â”‚                     â”‚    â”‚ /cold-start/check    â”‚   â”‚              â”‚
â”‚ 5 Questions:        â”‚    â”‚                      â”‚   â”‚ Metrics:     â”‚
â”‚ - Genre Preference  â”‚    â”‚ If isColdStart=true  â”‚   â”‚ - Precision  â”‚
â”‚ - Reading Freq      â”‚    â”‚   â†’ Show Cold-Start  â”‚   â”‚ - Recall     â”‚
â”‚ - Story Length      â”‚    â”‚     Recommendations  â”‚   â”‚ - NDCG       â”‚
â”‚ - Completion        â”‚    â”‚                      â”‚   â”‚ - Coverage   â”‚
â”‚ - Exploration       â”‚    â”‚ If isColdStart=false â”‚   â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â†’ Show Personalizedâ”‚   â”‚ Endpoints:   â”‚
          â”‚                â”‚     Recommendations  â”‚   â”‚ - metrics/.. â”‚
          â–¼                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ - evaluate.. â”‚
    POST /api/onboarding/preferences  â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                           â–¼
          â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚            â”‚ DISPLAY RECOMMENDATIONS          â”‚
          â”‚            â”‚ GET /api/onboarding/recommend... â”‚
          â”‚            â”‚ OR /api/recommendations/...      â”‚
          â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                           â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ USER READS STORIES                 â”‚
          â”‚ (Reading History Updated)          â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ SHOW USER PROFILE ANALYTICS        â”‚
          â”‚ GET /api/user/analytics            â”‚
          â”‚                                    â”‚
          â”‚ Display:                           â”‚
          â”‚ - Stories Read: 25                 â”‚
          â”‚ - Chapters Read: 450               â”‚
          â”‚ - Completion Rate: 75%             â”‚
          â”‚ - Reading Velocity: 32 ch/week     â”‚
          â”‚ - Genre Diversity: 68%             â”‚
          â”‚ - Session Duration: 45 min         â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸª ONBOARDING FLOW (Chi tiáº¿t)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NEW USER - SIGNUP PAGE                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚ [FORM]                                                       â”‚
â”‚ Username: ________________                                   â”‚
â”‚ Email:    ________________                                   â”‚
â”‚ Password: ________________                                   â”‚
â”‚          [Sign Up Button]                                    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Sign Up OK?   â”‚
        â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚ YES
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ONBOARDING PAGE                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  ğŸ¯ TÃ¬m hiá»ƒu sá»Ÿ thÃ­ch cá»§a báº¡n                               â”‚
â”‚                                                              â”‚
â”‚  1ï¸âƒ£  Báº¡n Ä‘á»c bao lÃ¢u má»™t láº§n?                               â”‚
â”‚      â—‹ HÃ ng ngÃ y      â—‹ HÃ ng tuáº§n    â—‹ HÃ ng thÃ¡ng           â”‚
â”‚                                                              â”‚
â”‚  2ï¸âƒ£  Báº¡n thÃ­ch truyá»‡n dÃ i hay ngáº¯n?                         â”‚
â”‚      â—‹ Ngáº¯n (1-50ch)  â—‹ Vá»«a (51-200ch) â—‹ DÃ i (>200ch)       â”‚
â”‚                                                              â”‚
â”‚  3ï¸âƒ£  Tá»‰ lá»‡ hoÃ n thÃ nh yÃªu thÃ­ch?                            â”‚
â”‚      â—‹ HoÃ n thÃ nh â—‹ CÃ¢n báº±ng â—‹ KhÃ¡m phÃ¡                     â”‚
â”‚                                                              â”‚
â”‚  4ï¸âƒ£  ThÃ¡i Ä‘á»™ khÃ¡m phÃ¡ thá»ƒ loáº¡i?                             â”‚
â”‚      â—‹ Tháº­n trá»ng â—‹ CÃ¢n báº±ng â—‹ PhiÃªu lÆ°u                    â”‚
â”‚                                                              â”‚
â”‚  5ï¸âƒ£  Thá»ƒ loáº¡i yÃªu thÃ­ch? (Select multiple)                  â”‚
â”‚      â˜‘ Romance   â˜ Fantasy  â˜‘ Action  â˜ Sci-Fi              â”‚
â”‚      â˜ Comedy    â˜‘ Drama    â˜ Horror  â˜ Other               â”‚
â”‚                                                              â”‚
â”‚                            [Tiáº¿p Tá»¥c]                       â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
    POST /api/onboarding/preferences
    Body: {
      preferredGenreIds: [1, 3, 5],
      readingFrequency: "DAILY",
      preferredLength: "MEDIUM",
      completionPreference: "BALANCED",
      explorationPreference: "ADVENTUROUS"
    }
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ONBOARDING RECOMMENDATIONS PAGE                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  ğŸ‰ ChÃ o má»«ng! Dá»±a vÃ o sá»Ÿ thÃ­ch, Ä‘Ã¢y lÃ  gá»£i Ã½ cho báº¡n:     â”‚
â”‚  GET /api/onboarding/recommendations                        â”‚
â”‚                                                              â”‚
â”‚  [Book 1]        [Book 2]        [Book 3]        [Book 4]   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚     â”‚        â”‚     â”‚        â”‚     â”‚        â”‚     â”‚      â”‚
â”‚  â”‚ IMG â”‚        â”‚ IMG â”‚        â”‚ IMG â”‚        â”‚ IMG â”‚      â”‚
â”‚  â”‚     â”‚        â”‚     â”‚        â”‚     â”‚        â”‚     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  Title 1        Title 2        Title 3        Title 4       â”‚
â”‚  â­ 4.8/5       â­ 4.6/5       â­ 4.9/5       â­ 4.7/5      â”‚
â”‚  [Read Now]     [Read Now]     [Read Now]     [Read Now]   â”‚
â”‚                                                              â”‚
â”‚  [Book 5]        [Book 6]        [Book 7]        [Book 8]   â”‚
â”‚  ... more cards ...                                          â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“– READING FLOW (Sau Onboarding)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ USER DASHBOARD                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚ [Menu]                          â”‚
â”‚ - Home                          â”‚
â”‚ - Recommended Stories           â”‚
â”‚ - My Library                    â”‚
â”‚ - Profile ğŸ‘¤                    â”‚
â”‚ - Analytics ğŸ“Š                  â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼ (Check if new user)
    GET /api/recommendations/cold-start/check
    Response:
    {
      isColdStart: true/false,
      recommendedStrategy: "NEW_USER" or "NEW_ITEM"
    }
          â”‚
    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚ if True    â”‚ if False
    â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cold-Start     â”‚  â”‚ Personalized         â”‚
â”‚ Recommen-      â”‚  â”‚ Recommendations      â”‚
â”‚ dations        â”‚  â”‚                      â”‚
â”‚                â”‚  â”‚ GET /api/recommend.. â”‚
â”‚ GET /api/      â”‚  â”‚ /personalized        â”‚
â”‚ recommend...   â”‚  â”‚                      â”‚
â”‚ /cold-start    â”‚  â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ User clicks story  â”‚
        â”‚ and starts reading â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
        POST /api/stories/{id}/view
        (Update Reading History)
                 â”‚
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ User finishes reading      â”‚
        â”‚ or reads X chapters        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
        POST /api/user/analytics/refresh
        (Update profile metrics)
                 â”‚
                 â–¼
        GET /api/user/analytics
        (Display updated stats)
```

---

## ğŸ‘¤ PROFILE ANALYTICS (Chi tiáº¿t)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ USER PROFILE ANALYTICS PAGE                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  ğŸ“Š YOUR READING STATISTICS                      â”‚
â”‚  GET /api/user/analytics                        â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“š Stories   â”‚ ğŸ“– Chapters  â”‚ âœ… Complete  â”‚  â”‚
â”‚  â”‚ Read: 25     â”‚ Read: 450    â”‚ Rate: 75%    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âš¡ Reading   â”‚ â±ï¸  Avg Sessionâ”‚ ğŸ¨ Genre    â”‚  â”‚
â”‚  â”‚ Velocity:    â”‚ Duration:     â”‚ Diversity:  â”‚  â”‚
â”‚  â”‚ 32 ch/week   â”‚ 45 min        â”‚ 68%         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                  â”‚
â”‚  READING TREND (Last 7 days)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 500â”‚                          â•±â•²        â”‚   â”‚
â”‚  â”‚ 400â”‚                         â•±  â•²       â”‚   â”‚
â”‚  â”‚ 300â”‚      â•±â•²      â•±â•²        â•±    â•²      â”‚   â”‚
â”‚  â”‚ 200â”‚     â•±  â•²    â•±  â•²      â•±      â•²    â”‚   â”‚
â”‚  â”‚ 100â”‚    â•±    â•²  â•±    â•²    â•±        â•²   â”‚   â”‚
â”‚  â”‚   0â”‚â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”‚   â”‚
â”‚  â”‚    â”‚Mon Tue Wed Thu Fri Sat Sun        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                  â”‚
â”‚  TOP GENRES                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ”´ Romance        #â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  80%       â”‚   â”‚
â”‚  â”‚ ğŸŸ  Fantasy        #â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  60%       â”‚   â”‚
â”‚  â”‚ ğŸŸ¡ Action         #â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  55%       â”‚   â”‚
â”‚  â”‚ ğŸŸ¢ Drama          #â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘  50%       â”‚   â”‚
â”‚  â”‚ ğŸ”µ Comedy         #â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  40%       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                  â”‚
â”‚          [ğŸ”„ Refresh Statistics]                â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š METRICS DASHBOARD (ADMIN ONLY)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ADMIN - METRICS DASHBOARD                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚ SYSTEM PERFORMANCE EVALUATION                                 â”‚
â”‚ GET /api/recommendations/metrics/aggregate                    â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ ğŸ“ˆ Precision@10â”‚ ğŸ“Š Recall@10  â”‚ ğŸ¯ F1 Score   â”‚         â”‚
â”‚  â”‚   68.5%        â”‚   62.3%        â”‚   65.2%        â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ ğŸ† NDCG@10    â”‚ ğŸ“ MAP@10     â”‚ ğŸ’« MRR        â”‚         â”‚
â”‚  â”‚   76.8%        â”‚   70.1%        â”‚   82.3%        â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                â”‚
â”‚  PERFORMANCE TREND (K=10, 20, 50)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ 100%â”‚                                           â”‚          â”‚
â”‚  â”‚  90%â”‚  â–² Precision (blue)                      â”‚          â”‚
â”‚  â”‚  80%â”‚  â— Recall (orange)                       â”‚          â”‚
â”‚  â”‚  70%â”‚  â–  NDCG (green)                          â”‚          â”‚
â”‚  â”‚  60%â”‚ â–²                                         â”‚          â”‚
â”‚  â”‚  50%â”‚ â–² â—                   â—                   â”‚          â”‚
â”‚  â”‚  40%â”‚  â— â—   â—   â—   â—     â— â—                â”‚          â”‚
â”‚  â”‚  30%â”‚   â—     â—               â—                â”‚          â”‚
â”‚  â”‚  20%â”‚                                           â”‚          â”‚
â”‚  â”‚  10%â”‚                                           â”‚          â”‚
â”‚  â”‚   0%â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚     â”‚ K=10   K=20   K=50   K=100              â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                â”‚
â”‚  FILTERS:                                                      â”‚
â”‚  User IDs: [1,2,3,4,5] â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  K Value: [10]          â”‚
â”‚                        [Get Metrics]                          â”‚
â”‚                                                                â”‚
â”‚  FULL SYSTEM EVALUATION (Heavy Operation):                   â”‚
â”‚  POST /api/recommendations/metrics/evaluate-system           â”‚
â”‚  Max Users: [100] [Run Evaluation]                            â”‚
â”‚                                                                â”‚
â”‚  Last Evaluation: 2026-01-09 10:30:45 âœ… Success              â”‚
â”‚  - Users Evaluated: 100                                       â”‚
â”‚  - Time Taken: 45 seconds                                     â”‚
â”‚  - Avg Precision@10: 68.2%                                    â”‚
â”‚  - Avg Recall@10: 61.8%                                       â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ API CALL SEQUENCE

### Scenario 1: NgÆ°á»i dÃ¹ng má»›i Ä‘Äƒng kÃ½
```
1. POST /api/auth/register          â†’ User created
2. GET /api/onboarding/status        â†’ Returns completed=false
3. SHOW Onboarding Form              â†’ User fills form
4. POST /api/onboarding/preferences  â†’ Save preferences
5. GET /api/onboarding/recommendations â†’ Show recommendations
6. POST /api/stories/{id}/view       â†’ User reads story
```

### Scenario 2: NgÆ°á»i dÃ¹ng quay láº¡i
```
1. POST /api/auth/login              â†’ User logged in
2. GET /api/recommendations/cold-start/check â†’ Check status
   â”œâ”€ If isColdStart=true:
   â”‚  â””â”€ GET /api/recommendations/cold-start
   â””â”€ If isColdStart=false:
      â””â”€ GET /api/recommendations/personalized
3. GET /api/user/analytics           â†’ Show profile stats
4. POST /api/user/analytics/refresh  â†’ Update stats (optional)
```

### Scenario 3: Admin monitoring
```
1. POST /api/auth/login (admin user) â†’ Admin logged in
2. GET /api/recommendations/metrics/aggregate?userIds=1,2,3&k=10
3. POST /api/recommendations/metrics/evaluate-system?maxUsers=100
4. GET /api/recommendations/metrics/evaluate-system/summary
5. DISPLAY Results in Dashboard
```

---

## ğŸ¯ COMPONENT HIERARCHY (Frontend)

```
App
â”œâ”€â”€ Pages
â”‚   â”œâ”€â”€ HomePage
â”‚   â”œâ”€â”€ SignupPage
â”‚   â”‚   â””â”€â”€ OnboardingForm (NEW)
â”‚   â”‚       â””â”€â”€ OnboardingRecommendations (NEW)
â”‚   â”œâ”€â”€ DashboardPage
â”‚   â”‚   â”œâ”€â”€ ColdStartRecommendations (NEW)
â”‚   â”‚   â”œâ”€â”€ PersonalizedRecommendations (existing)
â”‚   â”‚   â””â”€â”€ UserProfileAnalytics (NEW)
â”‚   â”œâ”€â”€ ReaderPage
â”‚   â”‚   â””â”€â”€ StoryReaderComponent
â”‚   â”œâ”€â”€ ProfilePage
â”‚   â”‚   â””â”€â”€ UserAnalytics (NEW)
â”‚   â””â”€â”€ AdminPage
â”‚       â””â”€â”€ MetricsDashboard (NEW)
â”‚
â”œâ”€â”€ Components
â”‚   â”œâ”€â”€ RecommendationCard (existing)
â”‚   â”œâ”€â”€ StoryGrid (existing)
â”‚   â”œâ”€â”€ OnboardingForm (NEW)
â”‚   â”œâ”€â”€ AnalyticsChart (NEW)
â”‚   â””â”€â”€ MetricsTable (NEW)
â”‚
â””â”€â”€ Services
    â”œâ”€â”€ api.js (existing)
    â”‚   â”œâ”€â”€ getRecommendations()
    â”‚   â”œâ”€â”€ getOnboardingRecommendations() (NEW)
    â”‚   â”œâ”€â”€ getUserAnalytics() (NEW)
    â”‚   â”œâ”€â”€ checkColdStartStatus() (NEW)
    â”‚   â”œâ”€â”€ saveOnboardingPreferences() (NEW)
    â”‚   â””â”€â”€ getMetrics() (NEW)
    â””â”€â”€ auth.js (existing)
```

---

## ğŸ“± Mobile UI Mockup

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ””  Tue, Jan 9, 10:30   â”‚  â† Status Bar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚  ğŸ¯ START YOUR JOURNEY  â”‚  â† Onboarding Banner
â”‚                         â”‚
â”‚  1. What's your readingâ”‚
â”‚     frequency?          â”‚
â”‚                         â”‚
â”‚  âšª Daily               â”‚
â”‚  âšª Weekly              â”‚
â”‚  âšª Monthly             â”‚
â”‚                         â”‚
â”‚  [NEXT â†’]              â”‚
â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Home] [Search] [â™¡] [ğŸ‘¤]â”‚  â† Navigation
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         â–¼ (After Onboarding)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ””  Tue, Jan 9, 10:30   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š YOUR STATS           â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ğŸ“š 25 Stories           â”‚
â”‚ ğŸ“– 450 Chapters         â”‚
â”‚ âœ… 75% Completion       â”‚
â”‚ âš¡ 32 ch/week           â”‚
â”‚                         â”‚
â”‚ ğŸ¯ FOR YOU              â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸ“˜ Story 1  â”‚      â”‚
â”‚  â”‚             â”‚      â”‚
â”‚  â”‚ â­ 4.8/5    â”‚      â”‚
â”‚  â”‚ [Read Now]  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸ“— Story 2  â”‚      â”‚
â”‚  â”‚             â”‚      â”‚
â”‚  â”‚ â­ 4.6/5    â”‚      â”‚
â”‚  â”‚ [Read Now]  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Home] [Search] [â™¡] [ğŸ‘¤]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… Implementation Checklist

- [ ] Frontend - Onboarding Form Component
- [ ] Frontend - Onboarding Recommendations Page
- [ ] Frontend - User Analytics Dashboard
- [ ] Frontend - Metrics Dashboard (Admin)
- [ ] Backend - All APIs deployed âœ…
- [ ] Database - Migrations applied âœ…
- [ ] Testing - E2E test onboarding flow
- [ ] Testing - E2E test analytics
- [ ] Deployment - To production
- [ ] Monitoring - Check metrics dashboard

---

**Next**: Develop frontend components based on this guide! ğŸš€

