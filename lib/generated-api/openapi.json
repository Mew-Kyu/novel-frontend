{"openapi":"3.0.1","info":{"title":"Novel Backend API","description":"## Novel Reading Platform API\n\nComplete REST API for managing novels, chapters, users, and more.\n\n### Features:\n- ð Story and Chapter Management\n- ð JWT Authentication\n- â­ Favorites and Ratings\n- ð¬ Comments\n- ð Reading History\n- ð¤ AI-powered Recommendations\n- ð·ï¸ Web Crawling for content\n\n### Authentication:\nMost endpoints require JWT authentication.\n1. Login via `/api/auth/login`\n2. Use the returned `accessToken` in the Authorization header\n3. Format: `Bearer {token}`\n","contact":{"name":"Novel Backend Team","email":"support@novel-backend.com"},"license":{"name":"MIT License","url":"https://opensource.org/licenses/MIT"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Local Development Server"},{"url":"https://api.novel-backend.com","description":"Production Server"}],"tags":[{"name":"User Profile Analytics","description":"APIs for user profile analytics and behavior metrics"},{"name":"Authentication","description":"User authentication and registration endpoints"},{"name":"Export","description":"APIs for exporting stories to various formats"},{"name":"Recommendations","description":"Personalized story recommendation APIs using Collaborative Filtering and Content-based Filtering"},{"name":"User Management","description":"User profile and password management endpoints"},{"name":"Story Management","description":"APIs for managing stories and their genres"},{"name":"Recommendation Metrics","description":"APIs for evaluating recommendation system quality"},{"name":"User Onboarding","description":"APIs for new user onboarding and preference collection"},{"name":"Cloudinary","description":"Image upload management using Cloudinary CDN"}],"paths":{"/api/user/profile":{"get":{"tags":["User Management"],"operationId":"getProfile","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}},"put":{"tags":["User Management"],"operationId":"updateProfile","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}}},"/api/stories/{storyId}/genres":{"put":{"tags":["Story Management"],"summary":"Set all genres for a story","description":"Replace all existing genres with a new set of genres. Send an empty array to remove all genres. ADMIN can modify any story. MODERATOR can only modify stories they created.","operationId":"setGenresForStory","parameters":[{"name":"storyId","in":"path","description":"Story ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","description":"Array of genre IDs","example":[1,2,3]}}},"required":true},"responses":{"404":{"description":"Story or genre not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"403":{"description":"Forbidden - requires ADMIN role or story ownership","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"200":{"description":"Genres updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}}},"security":[{"bearerAuth":[]}]}},"/api/stories/{storyId}/chapters/{chapterId}":{"get":{"tags":["chapter-controller"],"operationId":"getChapterById","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChapterDto"}}}}}},"put":{"tags":["chapter-controller"],"operationId":"updateChapter","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateChapterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChapterDto"}}}}}},"delete":{"tags":["chapter-controller"],"operationId":"deleteChapter","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/stories/{id}":{"get":{"tags":["Story Management"],"operationId":"getStoryById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}}}},"put":{"tags":["Story Management"],"summary":"Update a story","description":"Update story details and optionally replace all genres. Requires ADMIN or MODERATOR role.","operationId":"updateStory","parameters":[{"name":"id","in":"path","description":"Story ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStoryRequest"}}},"required":true},"responses":{"404":{"description":"Story or genre not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"200":{"description":"Story updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"403":{"description":"Forbidden - requires ADMIN or MODERATOR role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Story Management"],"operationId":"deleteStory","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/ratings/{ratingId}":{"put":{"tags":["rating-controller"],"operationId":"updateRating","parameters":[{"name":"ratingId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRatingRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RatingDto"}}}}}},"delete":{"tags":["rating-controller"],"operationId":"deleteRating","parameters":[{"name":"ratingId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/genres/{id}":{"get":{"tags":["genre-controller"],"operationId":"getGenreById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenreDto"}}}}}},"put":{"tags":["genre-controller"],"operationId":"updateGenre","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateGenreRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenreDto"}}}}}},"delete":{"tags":["genre-controller"],"operationId":"deleteGenre","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/comments/{commentId}":{"get":{"tags":["comment-controller"],"operationId":"getCommentById","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDto"}}}}}},"put":{"tags":["comment-controller"],"operationId":"updateComment","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCommentRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDto"}}}}}},"delete":{"tags":["comment-controller"],"operationId":"deleteComment","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/ai/embeddings/story/{storyId}/refresh":{"put":{"tags":["ai-controller"],"operationId":"refreshStoryEmbedding","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/admin/users/{userId}/role":{"put":{"tags":["admin-controller"],"operationId":"updateUserRole","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roleName","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}}},"/api/admin/roles/{roleId}":{"get":{"tags":["admin-controller"],"operationId":"getRoleById","parameters":[{"name":"roleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleDto"}}}}}},"put":{"tags":["admin-controller"],"operationId":"updateRole","parameters":[{"name":"roleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRoleRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleDto"}}}}}},"delete":{"tags":["admin-controller"],"operationId":"deleteRole","parameters":[{"name":"roleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/user/reset-password":{"post":{"tags":["User Management"],"operationId":"resetPassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/user/forgot-password":{"post":{"tags":["User Management"],"summary":"Request password reset","description":"Send password reset email to user. â ï¸ **Email Testing Mode**: In Resend testing mode, emails only sent to verified addresses. Check application logs for email delivery status. To send to any email, verify a domain at https://resend.com/domains","operationId":"forgotPassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/user/change-password":{"post":{"tags":["User Management"],"operationId":"changePassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/user/avatar":{"post":{"tags":["User Management"],"operationId":"uploadAvatar","requestBody":{"content":{"application/json":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}},"delete":{"tags":["User Management"],"operationId":"deleteAvatar","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}}},"/api/user/analytics/refresh":{"post":{"tags":["User Profile Analytics"],"summary":"Refresh user profile","description":"Manually trigger profile update with latest reading behavior and embeddings","operationId":"refreshProfile","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfile"}}}}},"security":[{"bearerAuth":[]}]}},"/api/user/analytics/refresh-embedding":{"post":{"tags":["User Profile Analytics"],"summary":"Refresh user profile embedding","description":"Update user profile embedding based on recent reading history with time decay","operationId":"refreshProfileEmbedding","responses":{"200":{"description":"OK"}},"security":[{"bearerAuth":[]}]}},"/api/stories":{"get":{"tags":["Story Management"],"operationId":"getStories","parameters":[{"name":"keyword","in":"query","required":false,"schema":{"type":"string"}},{"name":"genreId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"genre","in":"query","required":false,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageStoryDto"}}}}}},"post":{"tags":["Story Management"],"summary":"Create a new story","description":"Create a new story with optional multiple genres. Requires ADMIN or MODERATOR role.","operationId":"createStory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateStoryRequest"}}},"required":true},"responses":{"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"404":{"description":"Genre not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"201":{"description":"Story created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"403":{"description":"Forbidden - requires ADMIN or MODERATOR role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}}},"security":[{"bearerAuth":[]}]}},"/api/stories/{storyId}/genres/{genreId}":{"post":{"tags":["Story Management"],"summary":"Add a genre to a story","description":"Add a single genre to an existing story without affecting other genres. Requires ADMIN or MODERATOR role.","operationId":"addGenreToStory","parameters":[{"name":"storyId","in":"path","description":"Story ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"genreId","in":"path","description":"Genre ID to add","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Story or genre not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"200":{"description":"Genre added successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"403":{"description":"Forbidden - requires ADMIN or MODERATOR role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Story Management"],"summary":"Remove a genre from a story","description":"Remove a single genre from a story without affecting other genres. Requires ADMIN or MODERATOR role.","operationId":"removeGenreFromStory","parameters":[{"name":"storyId","in":"path","description":"Story ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"genreId","in":"path","description":"Genre ID to remove","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Story or genre not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"200":{"description":"Genre removed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"403":{"description":"Forbidden - requires ADMIN or MODERATOR role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}}},"security":[{"bearerAuth":[]}]}},"/api/stories/{storyId}/chapters":{"get":{"tags":["chapter-controller"],"operationId":"getChaptersByStoryId","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChapterDto"}}}}}}},"post":{"tags":["chapter-controller"],"operationId":"createChapter","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateChapterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChapterDto"}}}}}}},"/api/stories/{storyId}/chapters/{chapterId}/translate":{"post":{"tags":["chapter-controller"],"operationId":"translateChapter","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChapterDto"}}}}}}},"/api/stories/{storyId}/chapters/translate-all":{"post":{"tags":["chapter-controller"],"operationId":"translateAllChapters","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/stories/{storyId}/chapters/retry-failed-translations":{"post":{"tags":["chapter-controller"],"operationId":"retryFailedTranslations","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/stories/{id}/view":{"post":{"tags":["Story Management"],"operationId":"incrementViewCount","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/stories/translate/story":{"post":{"tags":["Story Management"],"operationId":"translateStory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslateStoryRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslateStoryResponse"}}}}}}},"/api/stories/translate/story/{storyId}":{"post":{"tags":["Story Management"],"operationId":"translateStoryById","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslateStoryResponse"}}}}}}},"/api/stories/featured/refresh":{"post":{"tags":["Story Management"],"summary":"Refresh featured stories","description":"Manually trigger the featured stories update process. This will reset all current featured stories and promote new ones based on performance metrics.","operationId":"refreshFeaturedStories","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/api/recommendations/metrics/evaluate-system":{"post":{"tags":["Recommendation Metrics"],"summary":"Run full system evaluation (offline)","description":"Evaluate recommendation system with multiple K values. This is a heavy operation. Requires ADMIN role.","operationId":"evaluateSystem","parameters":[{"name":"maxUsers","in":"query","description":"Maximum number of users to evaluate","required":false,"schema":{"type":"integer","format":"int32","default":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluationReport"}}}}},"security":[{"bearerAuth":[]}]}},"/api/ratings":{"post":{"tags":["rating-controller"],"operationId":"createOrUpdateRating","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRatingRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RatingDto"}}}}}}},"/api/onboarding/preferences":{"post":{"tags":["User Onboarding"],"summary":"Save user onboarding preferences","description":"Save user preferences collected during first-time onboarding. Used for cold-start recommendations.","operationId":"savePreferences","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OnboardingRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOnboarding"}}}}},"security":[{"bearerAuth":[]}]}},"/api/jobs":{"get":{"tags":["crawl-job-controller"],"operationId":"getAllJobs","parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CrawlJobDto"}}}}}}},"post":{"tags":["crawl-job-controller"],"operationId":"createJob","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCrawlJobRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrawlJobDto"}}}}}}},"/api/history":{"get":{"tags":["reading-history-controller"],"operationId":"getReadingHistory","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageReadingHistoryDto"}}}}}},"post":{"tags":["reading-history-controller"],"operationId":"updateReadingProgress","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateHistoryRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadingHistoryDto"}}}}}}},"/api/genres":{"get":{"tags":["genre-controller"],"operationId":"getAllGenres","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GenreDto"}}}}}}},"post":{"tags":["genre-controller"],"operationId":"createGenre","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateGenreRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenreDto"}}}}}}},"/api/favorites/{storyId}":{"post":{"tags":["favorite-controller"],"operationId":"addToFavorites","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FavoriteDto"}}}}}},"delete":{"tags":["favorite-controller"],"operationId":"removeFromFavorites","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/crawl/syosetu":{"post":{"tags":["crawl-controller"],"operationId":"crawlSyosetuNovel","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrawlNovelRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrawlNovelResponse"}}}}}}},"/api/comments":{"post":{"tags":["comment-controller"],"operationId":"createComment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCommentRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDto"}}}}}}},"/api/cloudinary/upload":{"post":{"tags":["Cloudinary"],"summary":"Upload novel cover image","description":"Upload an image to Cloudinary with automatic WebP conversion and optimization. Images are stored in the 'novel_covers' folder. Requires ADMIN or MODERATOR role.","operationId":"uploadImage","requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","description":"Image file to upload (JPG, PNG, GIF, WebP supported)","format":"binary"}}}}}},"responses":{"403":{"description":"Forbidden - Insufficient permissions (requires ADMIN or MODERATOR role)","content":{"application/json":{}}},"401":{"description":"Unauthorized - JWT token missing or invalid","content":{"application/json":{}}},"500":{"description":"Internal server error during upload","content":{"application/json":{}}},"400":{"description":"Invalid file or file too large","content":{"application/json":{}}},"200":{"description":"Image uploaded successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/api/auth/register":{"post":{"tags":["Authentication"],"summary":"Register new user","description":"Register a new user account. A welcome email will be sent automatically. â ï¸ **Email Testing Mode**: If using Resend in testing mode, emails are only sent to verified addresses. To send to any email, verify a domain at https://resend.com/domains","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/auth/login":{"post":{"tags":["Authentication"],"summary":"User login","description":"Authenticate user and receive JWT tokens","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/ai/translate":{"post":{"tags":["ai-controller"],"operationId":"translate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslationResponse"}}}}}}},"/api/ai/translate/auto":{"post":{"tags":["ai-controller"],"operationId":"autoTranslate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslationResponse"}}}}}}},"/api/ai/search/semantic":{"post":{"tags":["ai-controller"],"operationId":"semanticSearch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SemanticSearchRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SemanticSearchResponse"}}}}}}},"/api/ai/embeddings/story/{storyId}":{"post":{"tags":["ai-controller"],"operationId":"generateStoryEmbedding","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/ai/embeddings/generate-all":{"post":{"tags":["ai-controller"],"operationId":"generateAllEmbeddings","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/admin/users/{userId}/reset-password":{"post":{"tags":["admin-controller"],"operationId":"resetUserPassword","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminResetPasswordRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/admin/roles":{"get":{"tags":["admin-controller"],"operationId":"getAllRoles","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RoleDto"}}}}}}},"post":{"tags":["admin-controller"],"operationId":"createRole","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRoleRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleDto"}}}}}}},"/api/stories/{storyId}/chapters/{chapterId}/translation":{"patch":{"tags":["chapter-controller"],"operationId":"updateTranslation","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateChapterTranslationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChapterDto"}}}}}}},"/api/stories/{storyId}/chapters/{chapterId}/translate-status":{"patch":{"tags":["chapter-controller"],"operationId":"updateTranslateStatus","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/stories/{storyId}/chapters/{chapterId}/raw-content":{"patch":{"tags":["chapter-controller"],"operationId":"updateRawContent","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChapterDto"}}}}}}},"/api/stories/{storyId}/chapters/{chapterId}/crawl-status":{"patch":{"tags":["chapter-controller"],"operationId":"updateCrawlStatus","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/stories/{id}/featured":{"patch":{"tags":["Story Management"],"operationId":"setFeatured","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"featured","in":"query","required":true,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}}}}},"/api/jobs/{id}/status":{"patch":{"tags":["crawl-job-controller"],"operationId":"updateJobStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrawlJobDto"}}}}}}},"/api/admin/users/{userId}/deactivate":{"patch":{"tags":["admin-controller"],"operationId":"deactivateUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}}},"/api/admin/users/{userId}/activate":{"patch":{"tags":["admin-controller"],"operationId":"activateUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}}},"/api/user/analytics":{"get":{"tags":["User Profile Analytics"],"summary":"Get user profile","description":"Get detailed user profile including reading metrics, genre diversity, and embeddings","operationId":"getUserProfile","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfile"}}}}},"security":[{"bearerAuth":[]}]}},"/api/stories/{id}/detail":{"get":{"tags":["Story Management"],"summary":"Get story detail with metadata","description":"Retrieve a single story with full metadata including view count, ratings, comments, favorites, genres, and latest chapter. Optimized with caching for better performance.","operationId":"getStoryDetail","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Story not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDetailDto"}}}},"200":{"description":"Story detail retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDetailDto"}}}}}}},"/api/stories/with-metadata":{"get":{"tags":["Story Management"],"operationId":"getStoriesWithMetadata","parameters":[{"name":"keyword","in":"query","required":false,"schema":{"type":"string"}},{"name":"genreId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"genre","in":"query","required":false,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageStoryDetailDto"}}}}}}},"/api/stories/trending":{"get":{"tags":["Story Management"],"operationId":"getTrendingStories","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":7}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StoryDetailDto"}}}}}}}},"/api/stories/featured":{"get":{"tags":["Story Management"],"operationId":"getFeaturedStories","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":5}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StoryDetailDto"}}}}}}}},"/api/stats/summary":{"get":{"tags":["stats-controller"],"operationId":"getSummary","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatsSummaryDto"}}}}}}},"/api/recommendations/similar/{storyId}":{"get":{"tags":["Recommendations"],"summary":"Get similar stories","description":"Get stories similar to a specific story.\n\n**Algorithm:** Semantic Similarity + Genre-based\n- Primary: Uses semantic embeddings (pgvector + Gemini AI) for content similarity\n- Fallback: Genre-based similarity if embeddings not available\n- Perfect for 'Similar Stories' or 'Readers also liked' sections\n\n**Use Cases:**\n- Story detail page recommendations\n- 'More like this' sections\n- Related content suggestions","operationId":"getSimilarStories","parameters":[{"name":"storyId","in":"path","description":"Story ID to find similar stories for","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"limit","in":"query","description":"Number of similar stories to return","required":false,"schema":{"type":"integer","format":"int32","default":5},"example":5}],"responses":{"200":{"description":"Similar stories retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendationDto"}}}},"404":{"description":"Story not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendationDto"}}}}},"security":[{"bearerAuth":[]}]}},"/api/recommendations/similar/{storyId}/public":{"get":{"tags":["Recommendations"],"summary":"Get similar stories (public)","description":"Get similar stories without authentication. Same algorithm as authenticated endpoint but doesn't exclude user's read stories.","operationId":"getSimilarStoriesPublic","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":5}}],"responses":{"200":{"description":"Similar stories retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendationDto"}}}},"404":{"description":"Story not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendationDto"}}}}}}},"/api/recommendations/metrics/user/{userId}":{"get":{"tags":["Recommendation Metrics"],"summary":"Get recommendation metrics for specific user","description":"Calculate Precision@K, Recall@K, NDCG@K, MAP@K, etc. for a user's recommendations","operationId":"getUserMetrics","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"k","in":"query","description":"Number of top recommendations to evaluate (K)","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendationMetrics"}}}}},"security":[{"bearerAuth":[]}]}},"/api/recommendations/metrics/evaluate-system/summary":{"get":{"tags":["Recommendation Metrics"],"summary":"Run evaluation and get text summary","description":"Get human-readable summary of system evaluation. Requires ADMIN role.","operationId":"evaluateSystemSummary","parameters":[{"name":"maxUsers","in":"query","description":"Maximum number of users to evaluate","required":false,"schema":{"type":"integer","format":"int32","default":50}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string"}}}}},"security":[{"bearerAuth":[]}]}},"/api/recommendations/metrics/aggregate":{"get":{"tags":["Recommendation Metrics"],"summary":"Get aggregate metrics across multiple users","description":"Calculate average metrics across specified users. Requires ADMIN or MODERATOR role.","operationId":"getAggregateMetrics","parameters":[{"name":"userIds","in":"query","description":"Comma-separated user IDs","required":true,"schema":{"type":"string"}},{"name":"k","in":"query","description":"Number of top recommendations to evaluate (K)","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendationMetrics"}}}}},"security":[{"bearerAuth":[]}]}},"/api/recommendations/for-you":{"get":{"tags":["Recommendations"],"summary":"Get personalized recommendations (CÃ³ thá» báº¡n sáº½ thÃ­ch)","description":"Get personalized story recommendations using hybrid approach:\n\n**Algorithm Breakdown:**\n- 40% Content-based Filtering (based on your favorite genres)\n- 30% Collaborative Filtering (based on users with similar tastes)\n- 20% Trending stories (popular recent stories)\n- 10% High-rated stories (fallback)\n\n**Features:**\n- Analyzes your reading history, ratings, and favorites\n- Excludes stories you've already read\n- Adapts to your preferences over time\n- Perfect for homepage 'You May Like' section","operationId":"getRecommendationsForYou","parameters":[{"name":"limit","in":"query","description":"Number of recommendations to return","required":false,"schema":{"type":"integer","format":"int32","default":10},"example":10}],"responses":{"401":{"description":"Unauthorized - login required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendationDto"}}}},"200":{"description":"Recommendations retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendationDto"}}}}},"security":[{"bearerAuth":[]}]}},"/api/recommendations/content-based":{"get":{"tags":["Recommendations"],"summary":"Get content-based recommendations","description":"Get recommendations based only on your genre preferences and reading patterns.\n\n**Algorithm:** Content-based Filtering\n- Analyzes genres from your reading history\n- Weighted by ratings (high ratings = prefer genre, low ratings = avoid genre)\n- Weighted by favorites (strongest signal)\n- Returns stories from your preferred genres","operationId":"getContentBasedRecommendations","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"Content-based recommendations retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendationDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendationDto"}}}}},"security":[{"bearerAuth":[]}]}},"/api/recommendations/collaborative":{"get":{"tags":["Recommendations"],"summary":"Get collaborative filtering recommendations","description":"Get recommendations based on users with similar tastes.\n\n**Algorithm:** Collaborative Filtering (User-based)\n- Finds users who rated similar stories as you\n- Calculates similarity score using Jaccard similarity\n- Recommends highly-rated stories from similar users\n- Weighted by similarity score and rating value","operationId":"getCollaborativeRecommendations","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"Collaborative recommendations retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendationDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendationDto"}}}}},"security":[{"bearerAuth":[]}]}},"/api/recommendations/cold-start":{"get":{"tags":["Recommendations"],"summary":"Get cold-start recommendations","description":"Get recommendations for new users with little to no interaction history.\n\n**Features:**\n- Automatically detects if user is in cold-start state\n- Uses trending and popular stories for new users\n- Can be combined with onboarding preferences\n- Gradually transitions to personalized recommendations as user interacts","operationId":"getColdStartRecommendations","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StoryDto"}}}}}},"security":[{"bearerAuth":[]}]}},"/api/recommendations/cold-start/check":{"get":{"tags":["Recommendations"],"summary":"Check if user is in cold-start state","description":"Determine if user needs cold-start recommendations","operationId":"checkColdStartStatus","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ColdStartStatusResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/api/ratings/user/me":{"get":{"tags":["rating-controller"],"operationId":"getMyRatings","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageRatingDto"}}}}}}},"/api/ratings/story/{storyId}":{"get":{"tags":["rating-controller"],"operationId":"getRatingsByStory","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageRatingDto"}}}}}}},"/api/ratings/story/{storyId}/me":{"get":{"tags":["rating-controller"],"operationId":"getMyRatingForStory","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RatingDto"}}}}}}},"/api/ratings/story/{storyId}/average":{"get":{"tags":["rating-controller"],"operationId":"getStoryRating","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryRatingDto"}}}}}}},"/api/ratings/admin/all":{"get":{"tags":["rating-controller"],"operationId":"getAllRatingsForAdmin","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageRatingDto"}}}}}}},"/api/onboarding/status":{"get":{"tags":["User Onboarding"],"summary":"Get onboarding status","description":"Check if user has completed onboarding","operationId":"getStatus","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OnboardingStatusResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/api/onboarding/recommendations":{"get":{"tags":["User Onboarding"],"summary":"Get onboarding-based recommendations","description":"Get personalized recommendations based on onboarding preferences","operationId":"getRecommendations","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StoryDto"}}}}}},"security":[{"bearerAuth":[]}]}},"/api/jobs/{id}":{"get":{"tags":["crawl-job-controller"],"operationId":"getJobById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrawlJobDto"}}}}}},"delete":{"tags":["crawl-job-controller"],"operationId":"deleteJob","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/jobs/by-story/{storyId}":{"get":{"tags":["crawl-job-controller"],"operationId":"getJobsByStory","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"jobType","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CrawlJobDto"}}}}}}}},"/api/jobs/by-chapter/{chapterId}":{"get":{"tags":["crawl-job-controller"],"operationId":"getJobsByChapter","parameters":[{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CrawlJobDto"}}}}}}}},"/api/health":{"get":{"tags":["health-controller"],"operationId":"health","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/api/genres/with-counts":{"get":{"tags":["genre-controller"],"operationId":"getAllGenresWithCounts","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GenreDetailDto"}}}}}}}},"/api/genres/name/{name}":{"get":{"tags":["genre-controller"],"operationId":"getGenreByName","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenreDto"}}}}}}},"/api/favorites":{"get":{"tags":["favorite-controller"],"operationId":"getUserFavorites","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageFavoriteDto"}}}}}}},"/api/favorites/count/{storyId}":{"get":{"tags":["favorite-controller"],"operationId":"getFavoriteCount","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int64"}}}}}}},"/api/favorites/check/{storyId}":{"get":{"tags":["favorite-controller"],"operationId":"checkFavoriteStatus","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FavoriteStatusDto"}}}}}}},"/api/export/{storyId}/epub":{"get":{"tags":["Export"],"summary":"Export story to EPUB format","description":"Generate and download an EPUB file for a story. Optionally specify chapter range.","operationId":"exportToEpub","parameters":[{"name":"storyId","in":"path","description":"Story ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"start","in":"query","description":"Start chapter index (optional, inclusive)","required":false,"schema":{"type":"integer","format":"int32"}},{"name":"end","in":"query","description":"End chapter index (optional, inclusive)","required":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string","format":"byte"}}}}}}},"/api/crawl/health":{"get":{"tags":["crawl-controller"],"operationId":"health_1","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/api/comments/user/me":{"get":{"tags":["comment-controller"],"operationId":"getMyComments","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageCommentDto"}}}}}}},"/api/comments/story/{storyId}":{"get":{"tags":["comment-controller"],"operationId":"getCommentsByStory","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageCommentDto"}}}}}}},"/api/comments/story/{storyId}/count":{"get":{"tags":["comment-controller"],"operationId":"getCommentCountByStory","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int64"}}}}}}},"/api/comments/admin/all":{"get":{"tags":["comment-controller"],"operationId":"getAllCommentsForAdmin","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageCommentDto"}}}}}}},"/api/chapters/latest":{"get":{"tags":["latest-chapters-controller"],"operationId":"getLatestChapters","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LatestChapterDto"}}}}}}}},"/api/ai/health":{"get":{"tags":["ai-controller"],"operationId":"healthCheck","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/admin/users":{"get":{"tags":["admin-controller"],"operationId":"getAllUsers","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageUserDto"}}}}}}},"/api/admin/users/{userId}":{"get":{"tags":["admin-controller"],"operationId":"getUserById","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}},"delete":{"tags":["admin-controller"],"operationId":"deleteUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/admin/users/search/name":{"get":{"tags":["admin-controller"],"operationId":"searchByDisplayName","parameters":[{"name":"displayName","in":"query","required":true,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageUserDto"}}}}}}},"/api/admin/users/search/keyword":{"get":{"tags":["admin-controller"],"operationId":"searchByKeyword","parameters":[{"name":"keyword","in":"query","required":true,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageUserDto"}}}}}}},"/api/admin/users/search/email":{"get":{"tags":["admin-controller"],"operationId":"searchByEmail","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageUserDto"}}}}}}},"/api/admin/users/search/advanced":{"get":{"tags":["admin-controller"],"operationId":"advancedSearch","parameters":[{"name":"email","in":"query","required":false,"schema":{"type":"string"}},{"name":"displayName","in":"query","required":false,"schema":{"type":"string"}},{"name":"active","in":"query","required":false,"schema":{"type":"boolean"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageUserDto"}}}}}}},"/api/admin/users/filter/status":{"get":{"tags":["admin-controller"],"operationId":"filterByStatus","parameters":[{"name":"active","in":"query","required":true,"schema":{"type":"boolean"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageUserDto"}}}}}}},"/api/admin/stats/users":{"get":{"tags":["admin-controller"],"operationId":"getUserStats","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/ratings/admin/{ratingId}":{"delete":{"tags":["rating-controller"],"operationId":"adminDeleteRating","parameters":[{"name":"ratingId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/comments/admin/{commentId}":{"delete":{"tags":["comment-controller"],"operationId":"adminDeleteComment","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"UpdateProfileRequest":{"required":["displayName"],"type":"object","properties":{"displayName":{"maxLength":255,"minLength":1,"type":"string"}}},"RoleDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"UserDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"displayName":{"type":"string"},"avatarUrl":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"active":{"type":"boolean"},"role":{"$ref":"#/components/schemas/RoleDto"}}},"GenreDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}},"description":"List of genres associated with this story"},"StoryDto":{"type":"object","properties":{"id":{"type":"integer","description":"Story ID","format":"int64","example":1},"title":{"type":"string","description":"Story title","example":"My Epic Fantasy"},"rawTitle":{"type":"string","description":"Raw title (original language)","example":"åé¡"},"translatedTitle":{"type":"string","description":"Translated title","example":"My Epic Fantasy"},"authorName":{"type":"string","description":"Author name","example":"John Doe"},"rawAuthorName":{"type":"string","description":"Raw author name (original language)","example":"èèå"},"translatedAuthorName":{"type":"string","description":"Translated author name","example":"John Doe"},"description":{"type":"string","description":"Story description"},"rawDescription":{"type":"string","description":"Raw description (original language)"},"translatedDescription":{"type":"string","description":"Translated description"},"coverImageUrl":{"type":"string","description":"Cover image URL","example":"https://example.com/cover.jpg"},"sourceUrl":{"type":"string","description":"Source URL","example":"https://example.com/story"},"sourceSite":{"type":"string","description":"Source site name","example":"syosetu"},"createdAt":{"type":"string","description":"Creation timestamp","format":"date-time"},"updatedAt":{"type":"string","description":"Last update timestamp","format":"date-time"},"createdBy":{"type":"integer","description":"ID of user who created this story","format":"int64","example":1},"lastModifiedBy":{"type":"integer","description":"ID of user who last modified this story","format":"int64","example":2},"status":{"type":"string","description":"Story publication status","example":"PUBLISHED","enum":["DRAFT","PUBLISHED","COMPLETED","ARCHIVED"]},"featured":{"type":"boolean","description":"Whether this story is featured on homepage","example":true},"genres":{"type":"array","description":"List of genres associated with this story","items":{"$ref":"#/components/schemas/GenreDto"}}},"description":"Story data transfer object"},"UpdateChapterRequest":{"type":"object","properties":{"title":{"maxLength":500,"minLength":0,"type":"string"},"rawContent":{"type":"string"},"translatedContent":{"type":"string"},"chapterIndex":{"type":"integer","format":"int32"}}},"ChapterDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"storyId":{"type":"integer","format":"int64"},"chapterIndex":{"type":"integer","format":"int32"},"title":{"type":"string"},"rawTitle":{"type":"string"},"translatedTitle":{"type":"string"},"rawContent":{"type":"string"},"crawlStatus":{"type":"string"},"crawlTime":{"type":"string","format":"date-time"},"translatedContent":{"type":"string"},"translateStatus":{"type":"string"},"translateTime":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"createdBy":{"type":"integer","format":"int64"},"lastModifiedBy":{"type":"integer","format":"int64"}}},"UpdateStoryRequest":{"type":"object","properties":{"title":{"type":"string","description":"Story title","example":"Updated Title"},"authorName":{"type":"string","description":"Author name","example":"Jane Smith"},"description":{"type":"string","description":"Story description","example":"Updated description"},"coverImageUrl":{"type":"string","description":"Cover image URL","example":"https://example.com/new-cover.jpg"},"sourceUrl":{"type":"string","description":"Source URL","example":"https://example.com/story"},"sourceSite":{"maxLength":255,"minLength":0,"type":"string","description":"Source site name","example":"syosetu"},"genreIds":{"uniqueItems":true,"type":"array","description":"Array of genre IDs to replace all existing genres. Send empty array to remove all genres.","example":[1,4,5],"items":{"type":"integer","description":"Array of genre IDs to replace all existing genres. Send empty array to remove all genres.","format":"int64"}}},"description":"Request to update an existing story"},"UpdateRatingRequest":{"required":["rating"],"type":"object","properties":{"rating":{"maximum":5,"minimum":1,"type":"integer","format":"int32"}}},"RatingDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"userName":{"type":"string"},"storyId":{"type":"integer","format":"int64"},"rating":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"UpdateGenreRequest":{"type":"object","properties":{"name":{"maxLength":50,"minLength":1,"type":"string"},"description":{"maxLength":500,"minLength":0,"type":"string"}}},"UpdateCommentRequest":{"required":["content"],"type":"object","properties":{"content":{"maxLength":5000,"minLength":1,"type":"string"}}},"CommentDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"userName":{"type":"string"},"userAvatarUrl":{"type":"string"},"storyId":{"type":"integer","format":"int64"},"content":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"UpdateRoleRequest":{"type":"object","properties":{"description":{"maxLength":255,"minLength":0,"type":"string"}}},"ResetPasswordRequest":{"required":["newPassword","token"],"type":"object","properties":{"token":{"type":"string"},"newPassword":{"maxLength":2147483647,"minLength":6,"type":"string"}}},"ForgotPasswordRequest":{"required":["email"],"type":"object","properties":{"email":{"type":"string"}}},"ChangePasswordRequest":{"required":["currentPassword","newPassword"],"type":"object","properties":{"currentPassword":{"type":"string"},"newPassword":{"maxLength":2147483647,"minLength":6,"type":"string"}}},"UserProfile":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"profileEmbedding":{"type":"string"},"totalStoriesRead":{"type":"integer","format":"int32"},"totalChaptersRead":{"type":"integer","format":"int32"},"averageCompletionRate":{"type":"number","format":"double"},"chaptersPerWeek":{"type":"number","format":"double"},"avgSessionDurationMinutes":{"type":"number","format":"double"},"genreDiversityScore":{"type":"number","format":"double"},"lastProfileUpdate":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"userId":{"type":"integer","format":"int64"}}},"CreateStoryRequest":{"required":["title"],"type":"object","properties":{"title":{"type":"string","description":"Story title","example":"My Epic Fantasy Adventure"},"authorName":{"type":"string","description":"Author name","example":"John Doe"},"description":{"type":"string","description":"Story description","example":"An epic story about..."},"coverImageUrl":{"type":"string","description":"Cover image URL","example":"https://example.com/cover.jpg"},"sourceUrl":{"type":"string","description":"Source URL","example":"https://example.com/story"},"sourceSite":{"maxLength":255,"minLength":0,"type":"string","description":"Source site name","example":"syosetu"},"genreIds":{"uniqueItems":true,"type":"array","description":"Array of genre IDs to assign to the story","example":[1,2,3],"items":{"type":"integer","description":"Array of genre IDs to assign to the story","format":"int64"}}},"description":"Request to create a new story"},"CreateChapterRequest":{"required":["chapterIndex"],"type":"object","properties":{"title":{"maxLength":500,"minLength":0,"type":"string"},"rawContent":{"type":"string"},"chapterIndex":{"type":"integer","format":"int32"}}},"TranslateStoryRequest":{"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"translateTitle":{"type":"boolean"},"translateDescription":{"type":"boolean"}}},"TranslateStoryResponse":{"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"originalTitle":{"type":"string"},"translatedTitle":{"type":"string"},"originalAuthorName":{"type":"string"},"translatedAuthorName":{"type":"string"},"originalDescription":{"type":"string"},"translatedDescription":{"type":"string"},"message":{"type":"string"}}},"EvaluationReport":{"type":"object","properties":{"evaluationTime":{"type":"string","format":"date-time"},"completionTime":{"type":"string","format":"date-time"},"totalUsers":{"type":"integer","format":"int32"},"summary":{"type":"string"},"kmetrics":{"type":"array","items":{"$ref":"#/components/schemas/KMetrics"}}}},"KMetrics":{"type":"object","properties":{"k":{"type":"integer","format":"int32"},"metrics":{"$ref":"#/components/schemas/RecommendationMetrics"}}},"RecommendationMetrics":{"type":"object","properties":{"precisionAtK":{"type":"number","format":"double"},"recallAtK":{"type":"number","format":"double"},"f1ScoreAtK":{"type":"number","format":"double"},"mapAtK":{"type":"number","format":"double"},"ndcgAtK":{"type":"number","format":"double"},"mrr":{"type":"number","format":"double"},"coverage":{"type":"number","format":"double"},"diversity":{"type":"number","format":"double"},"serendipity":{"type":"number","format":"double"},"novelty":{"type":"number","format":"double"},"k":{"type":"integer","format":"int32"},"totalUsers":{"type":"integer","format":"int32"},"totalRecommendations":{"type":"integer","format":"int32"},"perUserMetrics":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/UserMetrics"}}}},"UserMetrics":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"precision":{"type":"number","format":"double"},"recall":{"type":"number","format":"double"},"ndcg":{"type":"number","format":"double"},"relevantItemsFound":{"type":"integer","format":"int32"},"totalRelevantItems":{"type":"integer","format":"int32"}}},"CreateRatingRequest":{"required":["rating","storyId"],"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"rating":{"maximum":5,"minimum":1,"type":"integer","format":"int32"}}},"OnboardingRequest":{"type":"object","properties":{"preferredGenreIds":{"type":"array","items":{"type":"integer","format":"int64"}},"readingFrequency":{"type":"string","enum":["DAILY","WEEKLY","MONTHLY","CASUAL"]},"preferredLength":{"type":"string","enum":["SHORT","MEDIUM","LONG","EPIC","ANY"]},"completionPreference":{"type":"string","enum":["COMPLETIONIST","EXPLORER","BALANCED"]},"explorationPreference":{"type":"string","enum":["SAFE","ADVENTUROUS","BALANCED"]}}},"UserOnboarding":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"preferredGenres":{"type":"string"},"readingFrequency":{"type":"string","enum":["DAILY","WEEKLY","MONTHLY","CASUAL"]},"preferredLength":{"type":"string","enum":["SHORT","MEDIUM","LONG","EPIC","ANY"]},"completionPreference":{"type":"string","enum":["COMPLETIONIST","EXPLORER","BALANCED"]},"explorationPreference":{"type":"string","enum":["SAFE","ADVENTUROUS","BALANCED"]},"completed":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"}}},"CreateCrawlJobRequest":{"required":["jobType"],"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"chapterId":{"type":"integer","format":"int64"},"jobType":{"type":"string"}}},"CrawlJobDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"storyId":{"type":"integer","format":"int64"},"chapterId":{"type":"integer","format":"int64"},"jobType":{"type":"string"},"status":{"type":"string"},"attempts":{"type":"integer","format":"int32"},"errorMessage":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"createdBy":{"type":"integer","format":"int64"},"lastModifiedBy":{"type":"integer","format":"int64"}}},"UpdateHistoryRequest":{"required":["storyId"],"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"chapterId":{"type":"integer","format":"int64"},"progressPercent":{"maximum":100,"minimum":0,"type":"integer","format":"int32"},"scrollOffset":{"minimum":0,"type":"integer","format":"int32"}}},"ReadingHistoryDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"story":{"$ref":"#/components/schemas/StoryDto"},"chapterId":{"type":"integer","format":"int64"},"chapterTitle":{"type":"string"},"progressPercent":{"type":"integer","format":"int32"},"scrollOffset":{"type":"integer","format":"int32"},"lastReadAt":{"type":"string","format":"date-time"}}},"CreateGenreRequest":{"required":["name"],"type":"object","properties":{"name":{"maxLength":50,"minLength":1,"type":"string"},"description":{"maxLength":500,"minLength":0,"type":"string"}}},"FavoriteDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"story":{"$ref":"#/components/schemas/StoryDto"},"createdAt":{"type":"string","format":"date-time"}}},"CrawlNovelRequest":{"required":["novelUrl"],"type":"object","properties":{"novelUrl":{"type":"string"},"startChapter":{"minimum":1,"type":"integer","format":"int32"},"endChapter":{"minimum":1,"type":"integer","format":"int32"}}},"CrawlNovelResponse":{"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"chaptersCrawled":{"type":"integer","format":"int32"},"chaptersSucceeded":{"type":"integer","format":"int32"},"chaptersFailed":{"type":"integer","format":"int32"},"message":{"type":"string"}}},"CreateCommentRequest":{"required":["content","storyId"],"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"content":{"maxLength":5000,"minLength":1,"type":"string"}}},"UploadResponse":{"type":"object","properties":{"success":{"type":"boolean","description":"Upload success status","example":true},"message":{"type":"string","description":"Response message","example":"Image uploaded successfully"},"url":{"type":"string","description":"Cloudinary secure URL","example":"https://res.cloudinary.com/demo/image/upload/v1234567890/novel_covers/abc123.webp"},"originalFilename":{"type":"string","description":"Original filename","example":"cover.jpg"}},"description":"Upload response"},"RegisterRequest":{"required":["displayName","email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"maxLength":2147483647,"minLength":6,"type":"string"},"displayName":{"maxLength":255,"minLength":1,"type":"string"},"roleName":{"type":"string"}}},"AuthResponse":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"user":{"$ref":"#/components/schemas/UserDto"}}},"LoginRequest":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"TranslationRequest":{"type":"object","properties":{"text":{"type":"string"},"sourceLanguage":{"type":"string"},"targetLanguage":{"type":"string"}}},"TranslationResponse":{"type":"object","properties":{"originalText":{"type":"string"},"translatedText":{"type":"string"},"sourceLanguage":{"type":"string"},"targetLanguage":{"type":"string"}}},"SemanticSearchRequest":{"type":"object","properties":{"query":{"type":"string"},"limit":{"type":"integer","format":"int32"}}},"SemanticSearchResponse":{"type":"object","properties":{"query":{"type":"string"},"results":{"type":"array","items":{"$ref":"#/components/schemas/StoryDto"}},"totalResults":{"type":"integer","format":"int32"}}},"AdminResetPasswordRequest":{"required":["newPassword"],"type":"object","properties":{"newPassword":{"maxLength":2147483647,"minLength":6,"type":"string"}}},"CreateRoleRequest":{"required":["name"],"type":"object","properties":{"name":{"maxLength":50,"minLength":1,"type":"string"},"description":{"maxLength":255,"minLength":0,"type":"string"}}},"UpdateChapterTranslationRequest":{"type":"object","properties":{"translatedContent":{"type":"string"}}},"Pageable":{"type":"object","properties":{"page":{"minimum":0,"type":"integer","format":"int32"},"size":{"minimum":1,"type":"integer","format":"int32"},"sort":{"type":"array","items":{"type":"string"}}}},"PageStoryDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/StoryDto"}},"number":{"type":"integer","format":"int32"},"numberOfElements":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"paged":{"type":"boolean"},"unpaged":{"type":"boolean"},"pageSize":{"type":"integer","format":"int32"},"pageNumber":{"type":"integer","format":"int32"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}}},"LatestChapterInfo":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"chapterIndex":{"type":"integer","format":"int32"},"title":{"type":"string"},"translatedTitle":{"type":"string"},"updatedAt":{"type":"string","format":"date-time"}}},"StoryDetailDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"rawTitle":{"type":"string"},"translatedTitle":{"type":"string"},"authorName":{"type":"string"},"rawAuthorName":{"type":"string"},"translatedAuthorName":{"type":"string"},"description":{"type":"string"},"rawDescription":{"type":"string"},"translatedDescription":{"type":"string"},"coverImageUrl":{"type":"string"},"sourceUrl":{"type":"string"},"sourceSite":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["DRAFT","PUBLISHED","COMPLETED","ARCHIVED"]},"viewCount":{"type":"integer","format":"int64"},"featured":{"type":"boolean"},"totalChapters":{"type":"integer","format":"int32"},"averageRating":{"type":"number","format":"double"},"totalRatings":{"type":"integer","format":"int64"},"totalComments":{"type":"integer","format":"int64"},"totalFavorites":{"type":"integer","format":"int64"},"genres":{"type":"array","items":{"$ref":"#/components/schemas/GenreDto"}},"latestChapter":{"$ref":"#/components/schemas/LatestChapterInfo"}}},"PageStoryDetailDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/StoryDetailDto"}},"number":{"type":"integer","format":"int32"},"numberOfElements":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"StatsSummaryDto":{"type":"object","properties":{"totalStories":{"type":"integer","format":"int64"},"totalGenres":{"type":"integer","format":"int64"},"totalChapters":{"type":"integer","format":"int64"},"totalUsers":{"type":"integer","format":"int64"},"totalViews":{"type":"integer","format":"int64"}}},"RecommendationDto":{"type":"object","properties":{"stories":{"type":"array","description":"List of recommended stories","items":{"$ref":"#/components/schemas/StoryDto"}},"type":{"type":"string","description":"Recommendation algorithm used","enum":["COLLABORATIVE","CONTENT_BASED","SEMANTIC","TRENDING","HYBRID"]},"totalCount":{"type":"integer","description":"Total number of recommendations","format":"int32"},"explanation":{"type":"string","description":"Explanation of why these stories were recommended"}},"description":"Personalized story recommendations for user"},"ColdStartStatusResponse":{"type":"object","properties":{"isColdStart":{"type":"boolean"},"recommendedStrategy":{"type":"string"}}},"PageRatingDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/RatingDto"}},"number":{"type":"integer","format":"int32"},"numberOfElements":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"StoryRatingDto":{"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"averageRating":{"type":"number","format":"double"},"totalRatings":{"type":"integer","format":"int64"}}},"OnboardingStatusResponse":{"type":"object","properties":{"completed":{"type":"boolean"},"onboarding":{"$ref":"#/components/schemas/UserOnboarding"}}},"PageReadingHistoryDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/ReadingHistoryDto"}},"number":{"type":"integer","format":"int32"},"numberOfElements":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"GenreDetailDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"storyCount":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"}}},"PageFavoriteDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/FavoriteDto"}},"number":{"type":"integer","format":"int32"},"numberOfElements":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"FavoriteStatusDto":{"type":"object","properties":{"isFavorite":{"type":"boolean"},"favoriteCount":{"type":"integer","format":"int64"}}},"PageCommentDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/CommentDto"}},"number":{"type":"integer","format":"int32"},"numberOfElements":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"LatestChapterDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"storyId":{"type":"integer","format":"int64"},"storyTitle":{"type":"string"},"storyTranslatedTitle":{"type":"string"},"chapterIndex":{"type":"integer","format":"int32"},"title":{"type":"string"},"translatedTitle":{"type":"string"},"updatedAt":{"type":"string","format":"date-time"}}},"PageUserDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/UserDto"}},"number":{"type":"integer","format":"int32"},"numberOfElements":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}}},"securitySchemes":{"bearerAuth":{"type":"http","description":"Enter JWT token obtained from login endpoint (/api/auth/login)","name":"bearerAuth","scheme":"bearer","bearerFormat":"JWT"}}}}