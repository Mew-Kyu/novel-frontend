{"openapi":"3.0.1","info":{"title":"Novel Backend API","description":"## Novel Reading Platform API\n\nComplete REST API for managing novels, chapters, users, and more.\n\n### Features:\n- ð Story and Chapter Management\n- ð JWT Authentication\n- â­ Favorites and Ratings\n- ð¬ Comments\n- ð Reading History\n- ð¤ AI-powered Recommendations\n- ð·ï¸ Web Crawling for content\n\n### Authentication:\nMost endpoints require JWT authentication.\n1. Login via `/api/auth/login`\n2. Use the returned `accessToken` in the Authorization header\n3. Format: `Bearer {token}`\n","contact":{"name":"Novel Backend Team","email":"support@novel-backend.com"},"license":{"name":"MIT License","url":"https://opensource.org/licenses/MIT"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Local Development Server"},{"url":"https://api.novel-backend.com","description":"Production Server"}],"security":[{"Bearer Authentication":[]}],"tags":[{"name":"Export","description":"APIs for exporting stories to various formats"},{"name":"Story Management","description":"APIs for managing stories and their genres"},{"name":"Cloudinary","description":"Image upload management using Cloudinary CDN"}],"paths":{"/api/stories/{storyId}/genres":{"put":{"tags":["Story Management"],"summary":"Set all genres for a story","description":"Replace all existing genres with a new set of genres. Send an empty array to remove all genres. Requires ADMIN or MODERATOR role.","operationId":"setGenresForStory","parameters":[{"name":"storyId","in":"path","description":"Story ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","description":"Array of genre IDs","example":[1,2,3]}}},"required":true},"responses":{"200":{"description":"Genres updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"404":{"description":"Story or genre not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"403":{"description":"Forbidden - requires ADMIN or MODERATOR role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}}},"security":[{"bearerAuth":[]}]}},"/api/stories/{storyId}/chapters/{chapterId}":{"get":{"tags":["chapter-controller"],"operationId":"getChapterById","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChapterDto"}}}}}},"put":{"tags":["chapter-controller"],"operationId":"updateChapter","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateChapterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChapterDto"}}}}}},"delete":{"tags":["chapter-controller"],"operationId":"deleteChapter","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/stories/{id}":{"get":{"tags":["Story Management"],"operationId":"getStoryById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}}}},"put":{"tags":["Story Management"],"summary":"Update a story","description":"Update story details and optionally replace all genres. Requires ADMIN or MODERATOR role.","operationId":"updateStory","parameters":[{"name":"id","in":"path","description":"Story ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStoryRequest"}}},"required":true},"responses":{"404":{"description":"Story or genre not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"200":{"description":"Story updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"403":{"description":"Forbidden - requires ADMIN or MODERATOR role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Story Management"],"operationId":"deleteStory","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/ratings/{ratingId}":{"put":{"tags":["rating-controller"],"operationId":"updateRating","parameters":[{"name":"ratingId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRatingRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RatingDto"}}}}}},"delete":{"tags":["rating-controller"],"operationId":"deleteRating","parameters":[{"name":"ratingId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/genres/{id}":{"get":{"tags":["genre-controller"],"operationId":"getGenreById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenreDto"}}}}}},"put":{"tags":["genre-controller"],"operationId":"updateGenre","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateGenreRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenreDto"}}}}}},"delete":{"tags":["genre-controller"],"operationId":"deleteGenre","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/comments/{commentId}":{"get":{"tags":["comment-controller"],"operationId":"getCommentById","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDto"}}}}}},"put":{"tags":["comment-controller"],"operationId":"updateComment","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCommentRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDto"}}}}}},"delete":{"tags":["comment-controller"],"operationId":"deleteComment","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/ai/embeddings/story/{storyId}/refresh":{"put":{"tags":["ai-controller"],"operationId":"refreshStoryEmbedding","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/admin/roles/{roleId}":{"get":{"tags":["admin-controller"],"operationId":"getRoleById","parameters":[{"name":"roleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleDto"}}}}}},"put":{"tags":["admin-controller"],"operationId":"updateRole","parameters":[{"name":"roleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRoleRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleDto"}}}}}},"delete":{"tags":["admin-controller"],"operationId":"deleteRole","parameters":[{"name":"roleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/stories":{"get":{"tags":["Story Management"],"operationId":"getStories","parameters":[{"name":"keyword","in":"query","required":false,"schema":{"type":"string"}},{"name":"genreId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"genre","in":"query","required":false,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageStoryDto"}}}}}},"post":{"tags":["Story Management"],"summary":"Create a new story","description":"Create a new story with optional multiple genres. Requires ADMIN or MODERATOR role.","operationId":"createStory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateStoryRequest"}}},"required":true},"responses":{"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"404":{"description":"Genre not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"201":{"description":"Story created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"403":{"description":"Forbidden - requires ADMIN or MODERATOR role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}}},"security":[{"bearerAuth":[]}]}},"/api/stories/{storyId}/genres/{genreId}":{"post":{"tags":["Story Management"],"summary":"Add a genre to a story","description":"Add a single genre to an existing story without affecting other genres. Requires ADMIN or MODERATOR role.","operationId":"addGenreToStory","parameters":[{"name":"storyId","in":"path","description":"Story ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"genreId","in":"path","description":"Genre ID to add","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Story or genre not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"200":{"description":"Genre added successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"403":{"description":"Forbidden - requires ADMIN or MODERATOR role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Story Management"],"summary":"Remove a genre from a story","description":"Remove a single genre from a story without affecting other genres. Requires ADMIN or MODERATOR role.","operationId":"removeGenreFromStory","parameters":[{"name":"storyId","in":"path","description":"Story ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"genreId","in":"path","description":"Genre ID to remove","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Story or genre not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"200":{"description":"Genre removed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"403":{"description":"Forbidden - requires ADMIN or MODERATOR role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}}},"security":[{"bearerAuth":[]}]}},"/api/stories/{storyId}/chapters":{"get":{"tags":["chapter-controller"],"operationId":"getChaptersByStoryId","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChapterDto"}}}}}}},"post":{"tags":["chapter-controller"],"operationId":"createChapter","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateChapterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChapterDto"}}}}}}},"/api/stories/{storyId}/chapters/{chapterId}/translate":{"post":{"tags":["chapter-controller"],"operationId":"translateChapter","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChapterDto"}}}}}}},"/api/stories/{storyId}/chapters/translate-all":{"post":{"tags":["chapter-controller"],"operationId":"translateAllChapters","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/stories/{storyId}/chapters/retry-failed-translations":{"post":{"tags":["chapter-controller"],"operationId":"retryFailedTranslations","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/stories/{id}/view":{"post":{"tags":["Story Management"],"operationId":"incrementViewCount","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/stories/translate/story":{"post":{"tags":["Story Management"],"operationId":"translateStory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslateStoryRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslateStoryResponse"}}}}}}},"/api/stories/translate/story/{storyId}":{"post":{"tags":["Story Management"],"operationId":"translateStoryById","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslateStoryResponse"}}}}}}},"/api/ratings":{"post":{"tags":["rating-controller"],"operationId":"createOrUpdateRating","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRatingRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RatingDto"}}}}}}},"/api/jobs":{"get":{"tags":["crawl-job-controller"],"operationId":"getAllJobs","parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CrawlJobDto"}}}}}}},"post":{"tags":["crawl-job-controller"],"operationId":"createJob","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCrawlJobRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrawlJobDto"}}}}}}},"/api/history":{"get":{"tags":["reading-history-controller"],"operationId":"getReadingHistory","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageReadingHistoryDto"}}}}}},"post":{"tags":["reading-history-controller"],"operationId":"updateReadingProgress","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateHistoryRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadingHistoryDto"}}}}}}},"/api/genres":{"get":{"tags":["genre-controller"],"operationId":"getAllGenres","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GenreDto"}}}}}}},"post":{"tags":["genre-controller"],"operationId":"createGenre","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateGenreRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenreDto"}}}}}}},"/api/favorites/{storyId}":{"post":{"tags":["favorite-controller"],"operationId":"addToFavorites","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FavoriteDto"}}}}}},"delete":{"tags":["favorite-controller"],"operationId":"removeFromFavorites","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/crawl/syosetu":{"post":{"tags":["crawl-controller"],"operationId":"crawlSyosetuNovel","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrawlNovelRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrawlNovelResponse"}}}}}}},"/api/comments":{"post":{"tags":["comment-controller"],"operationId":"createComment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCommentRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDto"}}}}}}},"/api/cloudinary/upload":{"post":{"tags":["Cloudinary"],"summary":"Upload novel cover image","description":"Upload an image to Cloudinary with automatic WebP conversion and optimization. Images are stored in the 'novel_covers' folder. Requires ADMIN or MODERATOR role.","operationId":"uploadImage","requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","description":"Image file to upload (JPG, PNG, GIF, WebP supported)","format":"binary"}}}}}},"responses":{"200":{"description":"Image uploaded successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadResponse"}}}},"401":{"description":"Unauthorized - JWT token missing or invalid","content":{"application/json":{}}},"400":{"description":"Invalid file or file too large","content":{"application/json":{}}},"500":{"description":"Internal server error during upload","content":{"application/json":{}}},"403":{"description":"Forbidden - Insufficient permissions (requires ADMIN or MODERATOR role)","content":{"application/json":{}}}},"security":[{"bearerAuth":[]}]}},"/api/auth/register":{"post":{"tags":["auth-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/ai/translate":{"post":{"tags":["ai-controller"],"operationId":"translate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslationResponse"}}}}}}},"/api/ai/translate/auto":{"post":{"tags":["ai-controller"],"operationId":"autoTranslate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslationResponse"}}}}}}},"/api/ai/search/semantic":{"post":{"tags":["ai-controller"],"operationId":"semanticSearch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SemanticSearchRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SemanticSearchResponse"}}}}}}},"/api/ai/embeddings/story/{storyId}":{"post":{"tags":["ai-controller"],"operationId":"generateStoryEmbedding","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/ai/embeddings/generate-all":{"post":{"tags":["ai-controller"],"operationId":"generateAllEmbeddings","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/admin/users/{userId}/roles/{roleName}":{"post":{"tags":["admin-controller"],"operationId":"assignRoleToUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roleName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}},"delete":{"tags":["admin-controller"],"operationId":"removeRoleFromUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roleName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}}},"/api/admin/roles":{"get":{"tags":["admin-controller"],"operationId":"getAllRoles","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RoleDto"}}}}}}},"post":{"tags":["admin-controller"],"operationId":"createRole","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRoleRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleDto"}}}}}}},"/api/stories/{storyId}/chapters/{chapterId}/translation":{"patch":{"tags":["chapter-controller"],"operationId":"updateTranslation","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateChapterTranslationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChapterDto"}}}}}}},"/api/stories/{storyId}/chapters/{chapterId}/translate-status":{"patch":{"tags":["chapter-controller"],"operationId":"updateTranslateStatus","parameters":[{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/stories/{storyId}/chapters/{chapterId}/raw-content":{"patch":{"tags":["chapter-controller"],"operationId":"updateRawContent","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChapterDto"}}}}}}},"/api/stories/{storyId}/chapters/{chapterId}/crawl-status":{"patch":{"tags":["chapter-controller"],"operationId":"updateCrawlStatus","parameters":[{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/stories/{id}/featured":{"patch":{"tags":["Story Management"],"operationId":"setFeatured","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"featured","in":"query","required":true,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDto"}}}}}}},"/api/jobs/{id}/status":{"patch":{"tags":["crawl-job-controller"],"operationId":"updateJobStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrawlJobDto"}}}}}}},"/api/admin/users/{userId}/deactivate":{"patch":{"tags":["admin-controller"],"operationId":"deactivateUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}}},"/api/admin/users/{userId}/activate":{"patch":{"tags":["admin-controller"],"operationId":"activateUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}}},"/api/stories/{id}/detail":{"get":{"tags":["Story Management"],"summary":"Get story detail with metadata","description":"Retrieve a single story with full metadata including view count, ratings, comments, favorites, genres, and latest chapter. Optimized with caching for better performance.","operationId":"getStoryDetail","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Story detail retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDetailDto"}}}},"404":{"description":"Story not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryDetailDto"}}}}}}},"/api/stories/with-metadata":{"get":{"tags":["Story Management"],"operationId":"getStoriesWithMetadata","parameters":[{"name":"keyword","in":"query","required":false,"schema":{"type":"string"}},{"name":"genreId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"genre","in":"query","required":false,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageStoryDetailDto"}}}}}}},"/api/stories/trending":{"get":{"tags":["Story Management"],"operationId":"getTrendingStories","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":7}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StoryDetailDto"}}}}}}}},"/api/stories/featured":{"get":{"tags":["Story Management"],"operationId":"getFeaturedStories","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":5}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StoryDetailDto"}}}}}}}},"/api/stats/summary":{"get":{"tags":["stats-controller"],"operationId":"getSummary","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatsSummaryDto"}}}}}}},"/api/ratings/user/me":{"get":{"tags":["rating-controller"],"operationId":"getMyRatings","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageRatingDto"}}}}}}},"/api/ratings/story/{storyId}":{"get":{"tags":["rating-controller"],"operationId":"getRatingsByStory","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageRatingDto"}}}}}}},"/api/ratings/story/{storyId}/me":{"get":{"tags":["rating-controller"],"operationId":"getMyRatingForStory","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RatingDto"}}}}}}},"/api/ratings/story/{storyId}/average":{"get":{"tags":["rating-controller"],"operationId":"getStoryRating","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryRatingDto"}}}}}}},"/api/ratings/admin/all":{"get":{"tags":["rating-controller"],"operationId":"getAllRatingsForAdmin","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageRatingDto"}}}}}}},"/api/jobs/{id}":{"get":{"tags":["crawl-job-controller"],"operationId":"getJobById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrawlJobDto"}}}}}},"delete":{"tags":["crawl-job-controller"],"operationId":"deleteJob","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/jobs/by-story/{storyId}":{"get":{"tags":["crawl-job-controller"],"operationId":"getJobsByStory","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"jobType","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CrawlJobDto"}}}}}}}},"/api/jobs/by-chapter/{chapterId}":{"get":{"tags":["crawl-job-controller"],"operationId":"getJobsByChapter","parameters":[{"name":"chapterId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CrawlJobDto"}}}}}}}},"/api/health":{"get":{"tags":["health-controller"],"operationId":"health","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/api/genres/with-counts":{"get":{"tags":["genre-controller"],"operationId":"getAllGenresWithCounts","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GenreDetailDto"}}}}}}}},"/api/genres/name/{name}":{"get":{"tags":["genre-controller"],"operationId":"getGenreByName","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenreDto"}}}}}}},"/api/favorites":{"get":{"tags":["favorite-controller"],"operationId":"getUserFavorites","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageFavoriteDto"}}}}}}},"/api/favorites/count/{storyId}":{"get":{"tags":["favorite-controller"],"operationId":"getFavoriteCount","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int64"}}}}}}},"/api/favorites/check/{storyId}":{"get":{"tags":["favorite-controller"],"operationId":"checkFavoriteStatus","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FavoriteStatusDto"}}}}}}},"/api/export/{storyId}/epub":{"get":{"tags":["Export"],"summary":"Export story to EPUB format","description":"Generate and download an EPUB file for a story. Optionally specify chapter range.","operationId":"exportToEpub","parameters":[{"name":"storyId","in":"path","description":"Story ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"start","in":"query","description":"Start chapter index (optional, inclusive)","required":false,"schema":{"type":"integer","format":"int32"}},{"name":"end","in":"query","description":"End chapter index (optional, inclusive)","required":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string","format":"byte"}}}}}}},"/api/crawl/health":{"get":{"tags":["crawl-controller"],"operationId":"health_1","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/api/comments/user/me":{"get":{"tags":["comment-controller"],"operationId":"getMyComments","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageCommentDto"}}}}}}},"/api/comments/story/{storyId}":{"get":{"tags":["comment-controller"],"operationId":"getCommentsByStory","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageCommentDto"}}}}}}},"/api/comments/story/{storyId}/count":{"get":{"tags":["comment-controller"],"operationId":"getCommentCountByStory","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int64"}}}}}}},"/api/comments/admin/all":{"get":{"tags":["comment-controller"],"operationId":"getAllCommentsForAdmin","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageCommentDto"}}}}}}},"/api/chapters/latest":{"get":{"tags":["latest-chapters-controller"],"operationId":"getLatestChapters","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LatestChapterDto"}}}}}}}},"/api/ai/health":{"get":{"tags":["ai-controller"],"operationId":"healthCheck","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/admin/users":{"get":{"tags":["admin-controller"],"operationId":"getAllUsers","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageUserDto"}}}}}}},"/api/admin/users/{userId}":{"get":{"tags":["admin-controller"],"operationId":"getUserById","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}}},"/api/admin/stats/users":{"get":{"tags":["admin-controller"],"operationId":"getUserStats","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/ratings/admin/{ratingId}":{"delete":{"tags":["rating-controller"],"operationId":"adminDeleteRating","parameters":[{"name":"ratingId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/comments/admin/{commentId}":{"delete":{"tags":["comment-controller"],"operationId":"adminDeleteComment","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"GenreDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}},"description":"List of genres associated with this story"},"StoryDto":{"type":"object","properties":{"id":{"type":"integer","description":"Story ID","format":"int64","example":1},"title":{"type":"string","description":"Story title","example":"My Epic Fantasy"},"rawTitle":{"type":"string","description":"Raw title (original language)","example":"åé¡"},"translatedTitle":{"type":"string","description":"Translated title","example":"My Epic Fantasy"},"authorName":{"type":"string","description":"Author name","example":"John Doe"},"rawAuthorName":{"type":"string","description":"Raw author name (original language)","example":"èèå"},"translatedAuthorName":{"type":"string","description":"Translated author name","example":"John Doe"},"description":{"type":"string","description":"Story description"},"rawDescription":{"type":"string","description":"Raw description (original language)"},"translatedDescription":{"type":"string","description":"Translated description"},"coverImageUrl":{"type":"string","description":"Cover image URL","example":"https://example.com/cover.jpg"},"sourceUrl":{"type":"string","description":"Source URL","example":"https://example.com/story"},"sourceSite":{"type":"string","description":"Source site name","example":"syosetu"},"createdAt":{"type":"string","description":"Creation timestamp","format":"date-time"},"updatedAt":{"type":"string","description":"Last update timestamp","format":"date-time"},"createdBy":{"type":"integer","description":"ID of user who created this story","format":"int64","example":1},"lastModifiedBy":{"type":"integer","description":"ID of user who last modified this story","format":"int64","example":2},"status":{"type":"string","description":"Story publication status","example":"PUBLISHED","enum":["DRAFT","PUBLISHED","COMPLETED","ARCHIVED"]},"genres":{"type":"array","description":"List of genres associated with this story","items":{"$ref":"#/components/schemas/GenreDto"}}},"description":"Story data transfer object"},"UpdateChapterRequest":{"type":"object","properties":{"title":{"maxLength":500,"minLength":0,"type":"string"},"rawContent":{"type":"string"},"translatedContent":{"type":"string"},"chapterIndex":{"type":"integer","format":"int32"}}},"ChapterDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"storyId":{"type":"integer","format":"int64"},"chapterIndex":{"type":"integer","format":"int32"},"title":{"type":"string"},"rawTitle":{"type":"string"},"translatedTitle":{"type":"string"},"rawContent":{"type":"string"},"crawlStatus":{"type":"string"},"crawlTime":{"type":"string","format":"date-time"},"translatedContent":{"type":"string"},"translateStatus":{"type":"string"},"translateTime":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"createdBy":{"type":"integer","format":"int64"},"lastModifiedBy":{"type":"integer","format":"int64"}}},"UpdateStoryRequest":{"type":"object","properties":{"title":{"type":"string","description":"Story title","example":"Updated Title"},"authorName":{"type":"string","description":"Author name","example":"Jane Smith"},"description":{"type":"string","description":"Story description","example":"Updated description"},"coverImageUrl":{"type":"string","description":"Cover image URL","example":"https://example.com/new-cover.jpg"},"sourceUrl":{"type":"string","description":"Source URL","example":"https://example.com/story"},"sourceSite":{"maxLength":255,"minLength":0,"type":"string","description":"Source site name","example":"syosetu"},"genreIds":{"uniqueItems":true,"type":"array","description":"Array of genre IDs to replace all existing genres. Send empty array to remove all genres.","example":[1,4,5],"items":{"type":"integer","description":"Array of genre IDs to replace all existing genres. Send empty array to remove all genres.","format":"int64"}}},"description":"Request to update an existing story"},"UpdateRatingRequest":{"required":["rating"],"type":"object","properties":{"rating":{"maximum":5,"minimum":1,"type":"integer","format":"int32"}}},"RatingDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"userName":{"type":"string"},"storyId":{"type":"integer","format":"int64"},"rating":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"UpdateGenreRequest":{"type":"object","properties":{"name":{"maxLength":50,"minLength":1,"type":"string"},"description":{"maxLength":500,"minLength":0,"type":"string"}}},"UpdateCommentRequest":{"required":["content"],"type":"object","properties":{"content":{"maxLength":5000,"minLength":1,"type":"string"}}},"CommentDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"userName":{"type":"string"},"storyId":{"type":"integer","format":"int64"},"content":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"UpdateRoleRequest":{"type":"object","properties":{"description":{"maxLength":255,"minLength":0,"type":"string"}}},"RoleDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"CreateStoryRequest":{"required":["title"],"type":"object","properties":{"title":{"type":"string","description":"Story title","example":"My Epic Fantasy Adventure"},"authorName":{"type":"string","description":"Author name","example":"John Doe"},"description":{"type":"string","description":"Story description","example":"An epic story about..."},"coverImageUrl":{"type":"string","description":"Cover image URL","example":"https://example.com/cover.jpg"},"sourceUrl":{"type":"string","description":"Source URL","example":"https://example.com/story"},"sourceSite":{"maxLength":255,"minLength":0,"type":"string","description":"Source site name","example":"syosetu"},"genreIds":{"uniqueItems":true,"type":"array","description":"Array of genre IDs to assign to the story","example":[1,2,3],"items":{"type":"integer","description":"Array of genre IDs to assign to the story","format":"int64"}}},"description":"Request to create a new story"},"CreateChapterRequest":{"required":["chapterIndex"],"type":"object","properties":{"title":{"maxLength":500,"minLength":0,"type":"string"},"rawContent":{"type":"string"},"chapterIndex":{"type":"integer","format":"int32"}}},"TranslateStoryRequest":{"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"translateTitle":{"type":"boolean"},"translateDescription":{"type":"boolean"}}},"TranslateStoryResponse":{"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"originalTitle":{"type":"string"},"translatedTitle":{"type":"string"},"originalAuthorName":{"type":"string"},"translatedAuthorName":{"type":"string"},"originalDescription":{"type":"string"},"translatedDescription":{"type":"string"},"message":{"type":"string"}}},"CreateRatingRequest":{"required":["rating","storyId"],"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"rating":{"maximum":5,"minimum":1,"type":"integer","format":"int32"}}},"CreateCrawlJobRequest":{"required":["jobType"],"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"chapterId":{"type":"integer","format":"int64"},"jobType":{"type":"string"}}},"CrawlJobDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"storyId":{"type":"integer","format":"int64"},"chapterId":{"type":"integer","format":"int64"},"jobType":{"type":"string"},"status":{"type":"string"},"attempts":{"type":"integer","format":"int32"},"errorMessage":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"createdBy":{"type":"integer","format":"int64"},"lastModifiedBy":{"type":"integer","format":"int64"}}},"UpdateHistoryRequest":{"required":["storyId"],"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"chapterId":{"type":"integer","format":"int64"},"progressPercent":{"maximum":100,"minimum":0,"type":"integer","format":"int32"},"scrollOffset":{"minimum":0,"type":"integer","format":"int32"}}},"ReadingHistoryDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"story":{"$ref":"#/components/schemas/StoryDto"},"chapterId":{"type":"integer","format":"int64"},"chapterTitle":{"type":"string"},"progressPercent":{"type":"integer","format":"int32"},"scrollOffset":{"type":"integer","format":"int32"},"lastReadAt":{"type":"string","format":"date-time"}}},"CreateGenreRequest":{"required":["name"],"type":"object","properties":{"name":{"maxLength":50,"minLength":1,"type":"string"},"description":{"maxLength":500,"minLength":0,"type":"string"}}},"FavoriteDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"story":{"$ref":"#/components/schemas/StoryDto"},"createdAt":{"type":"string","format":"date-time"}}},"CrawlNovelRequest":{"required":["novelUrl"],"type":"object","properties":{"novelUrl":{"type":"string"},"startChapter":{"minimum":1,"type":"integer","format":"int32"},"endChapter":{"minimum":1,"type":"integer","format":"int32"}}},"CrawlNovelResponse":{"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"chaptersCrawled":{"type":"integer","format":"int32"},"chaptersSucceeded":{"type":"integer","format":"int32"},"chaptersFailed":{"type":"integer","format":"int32"},"message":{"type":"string"}}},"CreateCommentRequest":{"required":["content","storyId"],"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"content":{"maxLength":5000,"minLength":1,"type":"string"}}},"UploadResponse":{"type":"object","properties":{"success":{"type":"boolean","description":"Upload success status","example":true},"message":{"type":"string","description":"Response message","example":"Image uploaded successfully"},"url":{"type":"string","description":"Cloudinary secure URL","example":"https://res.cloudinary.com/demo/image/upload/v1234567890/novel_covers/abc123.webp"},"originalFilename":{"type":"string","description":"Original filename","example":"cover.jpg"}},"description":"Upload response"},"RegisterRequest":{"required":["displayName","email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"maxLength":2147483647,"minLength":6,"type":"string"},"displayName":{"maxLength":255,"minLength":1,"type":"string"},"roleName":{"type":"string"}}},"AuthResponse":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"user":{"$ref":"#/components/schemas/UserDto"}}},"UserDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"displayName":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"active":{"type":"boolean"},"roles":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/RoleDto"}}}},"LoginRequest":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"TranslationRequest":{"type":"object","properties":{"text":{"type":"string"},"sourceLanguage":{"type":"string"},"targetLanguage":{"type":"string"}}},"TranslationResponse":{"type":"object","properties":{"originalText":{"type":"string"},"translatedText":{"type":"string"},"sourceLanguage":{"type":"string"},"targetLanguage":{"type":"string"}}},"SemanticSearchRequest":{"type":"object","properties":{"query":{"type":"string"},"limit":{"type":"integer","format":"int32"}}},"SemanticSearchResponse":{"type":"object","properties":{"query":{"type":"string"},"results":{"type":"array","items":{"$ref":"#/components/schemas/StoryDto"}},"totalResults":{"type":"integer","format":"int32"}}},"CreateRoleRequest":{"required":["name"],"type":"object","properties":{"name":{"maxLength":50,"minLength":1,"type":"string"},"description":{"maxLength":255,"minLength":0,"type":"string"}}},"UpdateChapterTranslationRequest":{"type":"object","properties":{"translatedContent":{"type":"string"}}},"Pageable":{"type":"object","properties":{"page":{"minimum":0,"type":"integer","format":"int32"},"size":{"minimum":1,"type":"integer","format":"int32"},"sort":{"type":"array","items":{"type":"string"}}}},"PageStoryDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/StoryDto"}},"number":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageSize":{"type":"integer","format":"int32"},"pageNumber":{"type":"integer","format":"int32"},"paged":{"type":"boolean"},"unpaged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"unsorted":{"type":"boolean"},"sorted":{"type":"boolean"}}},"LatestChapterInfo":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"chapterIndex":{"type":"integer","format":"int32"},"title":{"type":"string"},"translatedTitle":{"type":"string"},"updatedAt":{"type":"string","format":"date-time"}}},"StoryDetailDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"rawTitle":{"type":"string"},"translatedTitle":{"type":"string"},"authorName":{"type":"string"},"rawAuthorName":{"type":"string"},"translatedAuthorName":{"type":"string"},"description":{"type":"string"},"rawDescription":{"type":"string"},"translatedDescription":{"type":"string"},"coverImageUrl":{"type":"string"},"sourceUrl":{"type":"string"},"sourceSite":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["DRAFT","PUBLISHED","COMPLETED","ARCHIVED"]},"viewCount":{"type":"integer","format":"int64"},"featured":{"type":"boolean"},"totalChapters":{"type":"integer","format":"int32"},"averageRating":{"type":"number","format":"double"},"totalRatings":{"type":"integer","format":"int64"},"totalComments":{"type":"integer","format":"int64"},"totalFavorites":{"type":"integer","format":"int64"},"genres":{"type":"array","items":{"$ref":"#/components/schemas/GenreDto"}},"latestChapter":{"$ref":"#/components/schemas/LatestChapterInfo"}}},"PageStoryDetailDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/StoryDetailDto"}},"number":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"StatsSummaryDto":{"type":"object","properties":{"totalStories":{"type":"integer","format":"int64"},"totalGenres":{"type":"integer","format":"int64"},"totalChapters":{"type":"integer","format":"int64"},"totalUsers":{"type":"integer","format":"int64"},"totalViews":{"type":"integer","format":"int64"}}},"PageRatingDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/RatingDto"}},"number":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"StoryRatingDto":{"type":"object","properties":{"storyId":{"type":"integer","format":"int64"},"averageRating":{"type":"number","format":"double"},"totalRatings":{"type":"integer","format":"int64"}}},"PageReadingHistoryDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/ReadingHistoryDto"}},"number":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"GenreDetailDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"storyCount":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"}}},"PageFavoriteDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/FavoriteDto"}},"number":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"FavoriteStatusDto":{"type":"object","properties":{"isFavorite":{"type":"boolean"},"favoriteCount":{"type":"integer","format":"int64"}}},"PageCommentDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/CommentDto"}},"number":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"LatestChapterDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"storyId":{"type":"integer","format":"int64"},"storyTitle":{"type":"string"},"storyTranslatedTitle":{"type":"string"},"chapterIndex":{"type":"integer","format":"int32"},"title":{"type":"string"},"translatedTitle":{"type":"string"},"updatedAt":{"type":"string","format":"date-time"}}},"PageUserDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/UserDto"}},"number":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}}},"securitySchemes":{"Bearer Authentication":{"type":"http","description":"Enter JWT token obtained from login","name":"Bearer Authentication","scheme":"bearer","bearerFormat":"JWT"}}}}